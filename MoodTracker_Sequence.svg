<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="440px" preserveAspectRatio="none" style="width:716px;height:440px;background:#FFFFFF;" version="1.1" viewBox="0 0 716 440" width="716px" zoomAndPan="magnify"><defs/><g><g><title>..UI..</title><rect fill="#FFFFFF" height="205.1738" style="stroke:#181818;stroke-width:1;" width="10" x="188.2393" y="84.2871"/></g><g><title>..Logic..</title><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1;" width="10" x="347.1484" y="113.5977"/></g><g><title>..Database..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="544.0693" y="142.9082"/></g><g><title>..External..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="663.8408" y="201.5293"/></g><g><title>..Person..</title><rect fill="#000000" fill-opacity="0.00000" height="335.7266" width="8" x="54.1807" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="58" x2="58" y1="52.9766" y2="388.7031"/></g><g><title>..UI..</title><rect fill="#000000" fill-opacity="0.00000" height="335.7266" width="8" x="189.2393" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="193.2305" x2="193.2305" y1="52.9766" y2="388.7031"/></g><g><title>..Logic..</title><rect fill="#000000" fill-opacity="0.00000" height="335.7266" width="8" x="348.1484" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="351.562" x2="351.562" y1="52.9766" y2="388.7031"/></g><g><title>..Database..</title><rect fill="#000000" fill-opacity="0.00000" height="335.7266" width="8" x="545.0693" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="548.3354" x2="548.3354" y1="52.9766" y2="388.7031"/></g><g><title>..External..</title><rect fill="#000000" fill-opacity="0.00000" height="335.7266" width="8" x="664.8408" y="52.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="668.8032" x2="668.8032" y1="52.9766" y2="388.7031"/></g><g class="participant participant-head" data-participant="User"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3613" x="21" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60.3613" x="28" y="25.5352">&#171;Person&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="42.998" y="42.0234">User</text></g><g class="participant participant-tail" data-participant="User"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.3613" x="21" y="387.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60.3613" x="28" y="408.2383">&#171;Person&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="42.998" y="424.7266">User</text></g><g class="participant participant-head" data-participant="MoodViewController"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152.0176" x="117.2305" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="28.4033" x="179.0376" y="25.5352">&#171;UI&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.0176" x="124.2305" y="42.0234">MoodViewController</text></g><g class="participant participant-tail" data-participant="MoodViewController"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152.0176" x="117.2305" y="387.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="28.4033" x="179.0376" y="408.2383">&#171;UI&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.0176" x="124.2305" y="424.7266">MoodViewController</text></g><g class="participant participant-head" data-participant="MoodViewModel"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.1729" x="289.562" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50.6816" x="326.8076" y="25.5352">&#171;Logic&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.1729" x="296.562" y="42.0234">MoodViewModel</text></g><g class="participant participant-tail" data-participant="MoodViewModel"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.1729" x="289.562" y="387.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50.6816" x="326.8076" y="408.2383">&#171;Logic&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.1729" x="296.562" y="424.7266">MoodViewModel</text></g><g class="participant participant-head" data-participant="CoreDataManager"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.4678" x="481.3354" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.335" x="510.4019" y="25.5352">&#171;Database&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.4678" x="488.3354" y="42.0234">CoreDataManager</text></g><g class="participant participant-tail" data-participant="CoreDataManager"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.4678" x="481.3354" y="387.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.335" x="510.4019" y="408.2383">&#171;Database&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.4678" x="488.3354" y="424.7266">CoreDataManager</text></g><g class="participant participant-head" data-participant="HealthKit"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84.0752" x="626.8032" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70.0752" x="633.8032" y="25.5352">&#171;External&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2139" x="637.7339" y="42.0234">HealthKit</text></g><g class="participant participant-tail" data-participant="HealthKit"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84.0752" x="626.8032" y="387.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70.0752" x="633.8032" y="408.2383">&#171;External&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2139" x="637.7339" y="424.7266">HealthKit</text></g><g><title>..UI..</title><rect fill="#FFFFFF" height="205.1738" style="stroke:#181818;stroke-width:1;" width="10" x="188.2393" y="84.2871"/></g><g><title>..Logic..</title><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1;" width="10" x="347.1484" y="113.5977"/></g><g><title>..Database..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="544.0693" y="142.9082"/></g><g><title>..External..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="663.8408" y="201.5293"/></g><g class="message" data-participant-1="User" data-participant-2="MoodViewController"><polygon fill="#181818" points="176.2393,80.2871,186.2393,84.2871,176.2393,88.2871,180.2393,84.2871" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.1807" x2="182.2393" y1="84.2871" y2="84.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.0586" x="65.1807" y="79.5449">Taps "Log Happy"</text></g><g class="message" data-participant-1="MoodViewController" data-participant-2="MoodViewModel"><polygon fill="#181818" points="335.1484,109.5977,345.1484,113.5977,335.1484,117.5977,339.1484,113.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="198.2393" x2="341.1484" y1="113.5977" y2="113.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.1831" x="205.2393" y="108.8555">saveMood("Happy")</text></g><g class="message" data-participant-1="MoodViewModel" data-participant-2="CoreDataManager"><polygon fill="#181818" points="532.0693,138.9082,542.0693,142.9082,532.0693,146.9082,536.0693,142.9082" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="357.1484" x2="538.0693" y1="142.9082" y2="142.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.9209" x="364.1484" y="138.166">create(entity: "MoodEntry")</text></g><g class="message" data-participant-1="CoreDataManager" data-participant-2="MoodViewModel"><polygon fill="#181818" points="368.1484,168.2188,358.1484,172.2188,368.1484,176.2188,364.1484,172.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="362.1484" x2="548.0693" y1="172.2188" y2="172.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.8926" x="374.1484" y="167.4766">MoodEntry()</text></g><g class="message" data-participant-1="MoodViewModel" data-participant-2="HealthKit"><polygon fill="#181818" points="651.8408,197.5293,661.8408,201.5293,651.8408,205.5293,655.8408,201.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="357.1484" x2="657.8408" y1="201.5293" y2="201.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.2056" x="364.1484" y="196.7871">storeMetric("mindfulness", value: 3)</text></g><g class="message" data-participant-1="HealthKit" data-participant-2="MoodViewModel"><polygon fill="#181818" points="368.1484,226.8398,358.1484,230.8398,368.1484,234.8398,364.1484,230.8398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="362.1484" x2="667.8408" y1="230.8398" y2="230.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.5088" x="374.1484" y="226.0977">success</text></g><g class="message" data-participant-1="MoodViewModel" data-participant-2="MoodViewController"><polygon fill="#181818" points="209.2393,256.1504,199.2393,260.1504,209.2393,264.1504,205.2393,260.1504" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="203.2393" x2="351.1484" y1="260.1504" y2="260.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.9092" x="215.2393" y="255.4082">showSuccessToast()</text></g><g class="message" data-participant-1="MoodViewController" data-participant-2="User"><polygon fill="#181818" points="69.1807,285.4609,59.1807,289.4609,69.1807,293.4609,65.1807,289.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="63.1807" x2="192.2393" y1="289.4609" y2="289.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7734" x="75.1807" y="284.7188">Displays &#9989;</text></g><path d="M5,302.4609 L5,373.4609 L248,373.4609 L248,312.4609 L238,302.4609 L5,302.4609" fill="#ADD8E6" style="stroke:#181818;stroke-width:0.5;"/><path d="M238,302.4609 L238,312.4609 L248,312.4609 L238,302.4609" fill="#ADD8E6" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="49.3784" x="28.3977" y="320.0293">UI Flow</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="77.7761" y="320.0293">:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.168" x="28.3977" y="335.3398">1. Button tap triggers VC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.4526" x="28.3977" y="350.6504">2. VC delegates to ViewModel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.8149" x="28.3977" y="365.9609">3. Changes propagate back</text><!--SRC=[TPB1Ji9048Rl-nIJUW6Y9CgjCHn4ZKP9J0JkGpkMZUlkPdS0UG3VmgVpIPoMX9PIJirs_l_RVsRMOs2TQO-MOHufmEtj6uNex7YiVACsTIvVQDfEdENWZAcKy-SpggdBoOZWrHKwQsacBj0zCaxHOb5XojCI8xM4JuI6Lo-QHVBmpHGi6f6eAkRLk2DI2ZFq4HAv5fxG-rsYC6EzGQOEjL8TJJMuLHCfHDnG-QkNx97zKsQbh77xxeNKQZM5B93uUcHPyow5f7GyoDr7r9PBjGTsTPhnmEdrLKvdIQS93pEMFbdKK-AWirxofMt-iJQMOamkOODcJIcC6Y4FHbMlgIDON6UPC9gXQcSxpfcTnfNRlkyvCuUHZtiyiuFcIeLRlfaKxdNq1dSH_dv_kXZDjs6T5Dn6_ANtieDxyQgB5T_9Q1J0O31_XaVZjeD1AiVh8TojcPq5HWyoqqBc7s4naThDKBuWQQcGooEmWxe1WD4G9YkqXLHyS1vB4Imn-rHaSoXZ_GC0]--></g></svg>